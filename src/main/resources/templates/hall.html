<!doctype html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script
            src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <title>Cinema</title>
</head>
<body>
<div th:replace="header :: head"></div>
<div class="container">
<div><h1 style="text-align: center" th:text="${sessionName.name}"></h1></div>
<div class="container" bis_skin_checked="1" style="margin-top: 20px; width: 50%">
        <form action="/booking" method="get" id="form">
            <input type="hidden" name="session" th:value="${sessionName.name}">
            <div class="row">
                <div th:with="rowhall = 1" class="btn-group align-items-center" role="group"
                     aria-label="Basic checkbox toggle button group">
                    <span style="margin-right: 10px">Ряд - 1</span>
                    <th:block th:each="ticket : ${tickets}" th:if="${ticket.row == rowhall}">
                        <input th:disabled="${ticket.user != null}" name="checkboxName" th:value="${ticket.id}" type="checkbox" class="btn-check"
                               th:id="${ticket.id}" autocomplete="off">
                        <label class="btn btn-outline-primary" th:for="${ticket.id}"
                               th:style="${ticket.user != null ? 'background: cadetblue; margin: 4px' : 'margin: 4px'}">
                            <span th:text="${ticket.cell}"></span>
                        </label>
                    </th:block>
                </div>
            </div>
            <div class="row">
            <div th:with="rowhall = 2" class="btn-group align-items-center" role="group" aria-label="Basic checkbox toggle button group">
                <span style="margin-right: 10px">Ряд - 2</span>
                <th:block th:each="ticket : ${tickets}" th:if="${ticket.row == rowhall}">
                    <input th:disabled="${ticket.user != null}" name="checkboxName" th:value="${ticket.id}" type="checkbox" class="btn-check"
                           th:id="${ticket.id}" autocomplete="off">
                    <label class="btn btn-outline-primary" th:for="${ticket.id}"
                           th:style="${ticket.user != null ? 'background: cadetblue; margin: 4px' : 'margin: 4px'}">
                        <span th:text="${ticket.cell}"></span>
                    </label>
                </th:block>
            </div>
            </div>
            <div class="row">
            <div th:with="rowhall = 3" class="btn-group align-items-center" role="group" aria-label="Basic checkbox toggle button group">
                <span style="margin-right: 10px">Ряд - 3</span>
                <th:block th:each="ticket : ${tickets}" th:if="${ticket.row == rowhall}">
                    <input th:disabled="${ticket.user != null}" name="checkboxName" th:value="${ticket.id}" type="checkbox" class="btn-check"
                           th:id="${ticket.id}" autocomplete="off">
                    <label class="btn btn-outline-primary" th:for="${ticket.id}"
                           th:style="${ticket.user != null ? 'background: cadetblue; margin: 4px' : 'margin: 4px'}">
                        <span th:text="${ticket.cell}"></span>
                    </label>
                </th:block>
            </div>
            </div>
            <div class="row">
            <div th:with="rowhall = 4" class="btn-group align-items-center" role="group" aria-label="Basic checkbox toggle button group">
                <span style="margin-right: 10px">Ряд - 4</span>
                <th:block th:each="ticket : ${tickets}" th:if="${ticket.row == rowhall}">
                    <input  th:disabled="${ticket.user != null}" name="checkboxName" th:value="${ticket.id}" type="checkbox" class="btn-check"
                           th:id="${ticket.id}" autocomplete="off">
                    <label class="btn btn-outline-primary" th:for="${ticket.id}"
                           th:style="${ticket.user != null ? 'background: cadetblue; margin: 4px' : 'margin: 4px'}">
                        <span th:text="${ticket.cell}"></span>
                    </label>
                </th:block>
            </div>
            </div>
            <button style="float: right; margin: 10px;" class="btn btn-dark" id = "button">Забронировать</button>
        </form>
</div>
</div>
<script type="text/javascript">
    document.getElementById ("button").onclick = function () {
       var check = document.querySelectorAll('input[type=checkbox]:checked')
        if (check.length == 0) {
            alert('Выбирите пожалуйста места')
            event.preventDefault();
        }
    };
</script>
</body>
</html>